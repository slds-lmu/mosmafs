<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Combine ECR-Operators — combine.operators • mosmafs</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Combine ECR-Operators — combine.operators" />
<meta property="og:description" content="Combine operators to be applied to individuals that conform to parameter set param.set.
Parameters are the param.set, and the names / types of params with the operator to use.
Parameter groups that use a single operator can be defined using .params.&amp;lt;groupname&amp;gt; = [character].
Say param.set has three logical params 'l1', 'l2', 'l3' and two numeric params 'n1', 'n2'.
To use operatorA for 'l1' and 'l2', operatorB for 'l3', and operatorC for all numeric
params, call
combineOperator(param.set, .params.group1 = c(&quot;l1&quot;, &quot;l2&quot;), group1 = operatorA, l3 = operatorB, numeric = operatorC).
Use arguments by types, names of parameters, or group name. Valid types are 'numeric', 'logical', 'integer', 'discrete'.
Operators given for groups or individual parameters supercede operators given for types.
Strategy parameters can be created by using .strategy.&amp;lt;groupname|parametername|type&amp;gt;. They must be a function
taking a named list of parameter values (i.e. an individuum) as input and return a named list of parameter values
to be given to the respective group's / parameter's or type's operator. If, in the example above, operatorA has
a parameter sigma that should also be treated as a parameter under evolution (and in fact be equal to l3), then
the above call would become
combineOperator(param.set, .params.group1 = c(&quot;l1&quot;, &quot;l2&quot;), group1 = operatorA, .strategy.group1 = function(x) list(sigma = x$l3), l3 = operatorB, numeric = operatorC).
If .binary.discrete.as.logical is TRUE, then binary discrete params are handled as logical params.
Operators for logical parameters must have only one argument. Operators for discrete parameters
must have an additional argument 'values'. Operators for continuous or integer parameters must have
an additional argument 'lower', 'upper'.
Use the ecr::setup function to set parameters for operators (&quot;currying&quot;)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mosmafs</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Github Version">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/demo.html">Introduction to MOSMaFS</a>
    </li>
    <li>
      <a href="../articles/multifidelity.html">Multi-Fidelity MOSMaFS</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/slds-lmu/mosmafs/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Combine ECR-Operators</h1>
    <small class="dont-index">Source: <a href='https://github.com/slds-lmu/mosmafs/blob/master/R/ecrshims.R'><code>R/ecrshims.R</code></a></small>
    <div class="hidden name"><code>combine.operators.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Combine operators to be applied to individuals that conform to parameter set <code>param.set</code>.
Parameters are the <code>param.set</code>, and the names / types of params with the operator to use.
Parameter groups that use a single operator can be defined using <code>.params.&lt;groupname&gt; = [character]</code>.</p>
<p>Say <code>param.set</code> has three logical params 'l1', 'l2', 'l3' and two numeric params 'n1', 'n2'.
To use operatorA for 'l1' and 'l2', operatorB for 'l3', and operatorC for all numeric
params, call
<code>combineOperator(param.set, .params.group1 = c("l1", "l2"), group1 = operatorA, l3 = operatorB, numeric = operatorC)</code>.</p>
<p>Use arguments by types, names of parameters, or group name. Valid types are 'numeric', 'logical', 'integer', 'discrete'.
Operators given for groups or individual parameters supercede operators given for types.</p>
<p>Strategy parameters can be created by using <code>.strategy.&lt;groupname|parametername|type&gt;</code>. They must be a <em>function</em>
taking a named list of parameter values (i.e. an individuum) as input and return a named list of parameter values
to be given to the respective group's / parameter's or type's operator. If, in the example above, <code>operatorA</code> has
a parameter <code>sigma</code> that should also be treated as a parameter under evolution (and in fact be equal to <code>l3</code>), then
the above call would become
<code>combineOperator(param.set, .params.group1 = c("l1", "l2"), group1 = operatorA, .strategy.group1 = function(x) list(sigma = x$l3), l3 = operatorB, numeric = operatorC)</code>.</p>
<p>If .binary.discrete.as.logical is TRUE, then binary discrete params are handled as logical params.</p>
<p>Operators for logical parameters must have only one argument. Operators for discrete parameters
must have an additional argument 'values'. Operators for continuous or integer parameters must have
an additional argument 'lower', 'upper'.</p>
<p>Use the ecr::setup function to set parameters for operators ("currying").</p>
    </div>

    <pre class="usage"><span class='fu'>combine.operators</span>(<span class='no'>param.set</span>, <span class='no'>...</span>, <span class='kw'>.binary.discrete.as.logical</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>param.set</th>
      <td><p><code>[ParamSet]</code> <code><a href='https://paramhelpers.mlr-org.com/reference/makeParamSet.html'>ParamSet</a></code> that defines the search space.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional parameters. See description.</p></td>
    </tr>
    <tr>
      <th>.binary.discrete.as.logical</th>
      <td><p><code>[logical(1)]</code> whether to treat binary discrete parameters as <code>logical</code> parameters and
use bitwise operators.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code><a href='https://rdrr.io/pkg/ecr/man/makeOperator.html'>ecr_operator</a></code> ecr operator.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>mlrCPO</span>)

<span class='co'># Create parameter set </span>
<span class='no'>ps</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/mlrCPO/man/pSS.html'>pSS</a></span>(
<span class='no'>logi</span>: <span class='no'>logical</span>,
<span class='no'>disc</span>: <span class='no'>discrete</span>[<span class='no'>yes</span>, <span class='no'>no</span>],
<span class='no'>discvec</span>: <span class='no'>discrete</span>[<span class='no'>letters</span>]^<span class='fl'>3</span>,
<span class='no'>numer</span>: <span class='no'>numeric</span>[<span class='fl'>0</span>, <span class='fl'>10</span>])

<span class='co'># Define mutators for groups of parameters </span>
<span class='no'>combo.mut</span> <span class='kw'>&lt;-</span> <span class='fu'>combine.operators</span>(<span class='no'>ps</span>,
<span class='kw'>.params.group1</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"logi"</span>, <span class='st'>"disc"</span>), <span class='co'># define group for which same mutator is used</span>
<span class='kw'>group1</span> <span class='kw'>=</span> <span class='kw pkg'>ecr</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/ecr/man/setup.html'>setup</a></span>(<span class='no'>mutBitflip</span>, <span class='kw'>p</span> <span class='kw'>=</span> <span class='fl'>1</span>), <span class='co'># set probability for mutation to 1</span>
<span class='kw'>discrete</span> <span class='kw'>=</span> <span class='no'>mutRandomChoice</span>, <span class='co'># define operator for all other discrete parameters</span>
<span class='kw'>numer</span> <span class='kw'>=</span> <span class='no'>mutGauss</span>) <span class='co'># specific operator for parameter numer</span>

<span class='fu'>combo.mut</span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>logi</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>disc</span> <span class='kw'>=</span> <span class='st'>"yes"</span>, <span class='kw'>discvec</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"a"</span>, <span class='st'>"x"</span>, <span class='st'>"y"</span>),
<span class='kw'>numer</span> <span class='kw'>=</span> <span class='fl'>2.5</span>))</div><div class='output co'>#&gt; $logi
#&gt; [1] TRUE
#&gt; 
#&gt; $disc
#&gt; [1] "no"
#&gt; 
#&gt; $discvec
#&gt; [1] "a" "x" "y"
#&gt; 
#&gt; $numer
#&gt; [1] 2.385461
#&gt; </div><div class='input'>
<span class='co'># Define mutator with strategy parameter</span>
<span class='no'>combo.strategy</span> <span class='kw'>&lt;-</span> <span class='fu'>combine.operators</span>(<span class='no'>ps</span>,
<span class='kw'>logical</span> <span class='kw'>=</span> <span class='kw pkg'>ecr</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/ecr/man/setup.html'>setup</a></span>(<span class='no'>mutBitflip</span>, <span class='kw'>p</span> <span class='kw'>=</span> <span class='fl'>0</span>),
<span class='kw'>discrete</span> <span class='kw'>=</span> <span class='no'>mutRandomChoice</span>,
<span class='kw'>numeric</span> <span class='kw'>=</span> <span class='no'>mutGauss</span>,
<span class='kw'>.strategy.numeric</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>ind</span>) {
<span class='kw'>if</span> (<span class='no'>ind</span>$<span class='no'>disc</span> <span class='kw'>==</span> <span class='st'>"yes"</span>) {
<span class='fu'><a href='https://rdrr.io/r/base/function.html'>return</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>p</span> <span class='kw'>=</span> <span class='fl'>1L</span>))
} <span class='kw'>else</span> {
<span class='fu'><a href='https://rdrr.io/r/base/function.html'>return</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>p</span> <span class='kw'>=</span> <span class='fl'>0L</span>))
}
})

<span class='fu'>combo.strategy</span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>logi</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>disc</span> <span class='kw'>=</span> <span class='st'>"no"</span>, <span class='kw'>discvec</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"a"</span>, <span class='st'>"x"</span>, <span class='st'>"y"</span>),
<span class='kw'>numer</span> <span class='kw'>=</span> <span class='fl'>2.5</span>))</div><div class='output co'>#&gt; $logi
#&gt; [1] FALSE
#&gt; 
#&gt; $disc
#&gt; [1] "no"
#&gt; 
#&gt; $discvec
#&gt; [1] "a" "x" "y"
#&gt; 
#&gt; $numer
#&gt; [1] 2.5
#&gt; </div><div class='input'>
<span class='co'># Define recombinators for groups of parameters</span>
<span class='no'>combo.rec</span> <span class='kw'>&lt;-</span> <span class='fu'>combine.operators</span>(<span class='no'>ps</span>,
<span class='kw'>.params.group1</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"logi"</span>, <span class='st'>"disc"</span>), <span class='co'># define group for which same mutator is used</span>
<span class='kw'>group1</span> <span class='kw'>=</span> <span class='no'>recPCrossover</span>,
<span class='kw'>discrete</span> <span class='kw'>=</span> <span class='no'>recPCrossover</span>,
<span class='kw'>numer</span> <span class='kw'>=</span> <span class='no'>recGaussian</span>)

<span class='fu'>combo.rec</span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>logi</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>disc</span> <span class='kw'>=</span> <span class='st'>"no"</span>, <span class='kw'>discvec</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"a"</span>, <span class='st'>"x"</span>, <span class='st'>"y"</span>),
<span class='kw'>numer</span> <span class='kw'>=</span> <span class='fl'>2.5</span>), <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>logi</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>disc</span> <span class='kw'>=</span> <span class='st'>"yes"</span>, <span class='kw'>discvec</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"c"</span>, <span class='st'>"e"</span>, <span class='st'>"g"</span>),
<span class='kw'>numer</span> <span class='kw'>=</span> <span class='fl'>7.5</span>)))</div><div class='output co'>#&gt; [[1]]
#&gt; [[1]]$logi
#&gt; [1] FALSE
#&gt; 
#&gt; [[1]]$disc
#&gt; [1] "no"
#&gt; 
#&gt; [[1]]$discvec
#&gt; [1] "a" "x" "y"
#&gt; 
#&gt; [[1]]$numer
#&gt; [1] 4.131664
#&gt; 
#&gt; 
#&gt; [[2]]
#&gt; [[2]]$logi
#&gt; [1] TRUE
#&gt; 
#&gt; [[2]]$disc
#&gt; [1] "yes"
#&gt; 
#&gt; [[2]]$discvec
#&gt; [1] "c" "e" "g"
#&gt; 
#&gt; [[2]]$numer
#&gt; [1] 6.709286
#&gt; 
#&gt; 
#&gt; attr(,"multiple")
#&gt; [1] TRUE</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Martin Binder, Susanne Dandl, Julia Moosbauer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


